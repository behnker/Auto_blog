{% macro sonic_icon(type, hex) %}
<!-- 
  Sonic Icon Generator
  Type: Traffic, Leads, Authority, etc.
  Hex: The glow color.
  Note: We use 'group-hover' classes in Tailwind to simulate the React 'isHovered' state.
-->
<div class="relative w-full h-full transition-transform duration-500 group-hover:scale-110">
    <svg viewBox="0 0 100 100" class="w-full h-full overflow-visible transition-all duration-700"
        style="filter: drop-shadow(0 0 0px transparent);" class="group-hover:drop-shadow-[0_0_8px_{{ hex }}]">

        <defs>
            <linearGradient id="grad-{{ type|replace(' ', '') }}" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="white" stop-opacity="0.1" />
                <stop offset="100%" stop-color="{{ hex }}" stop-opacity="0.5" />
            </linearGradient>
        </defs>

        <!-- Base Grid -->
        <circle cx="50" cy="50" r="48" class="stroke-white/5 fill-none" stroke-dasharray="4 4" />

        <g stroke-linecap="round" stroke-linejoin="round" class="transition-all duration-500">

            {% if type == 'Traffic' %}
            <path d="M20,80 C40,50 60,50 80,20"
                class="stroke-gray-600 group-hover:stroke-white fill-none transition-colors duration-300"
                stroke-width="1" />
            <path d="M10,70 C30,40 50,40 70,10"
                class="stroke-gray-600 group-hover:stroke-white fill-none transition-colors duration-300 opacity-50"
                stroke-width="1" />
            <path d="M30,90 C50,60 70,60 90,30"
                class="stroke-gray-600 group-hover:stroke-white fill-none transition-colors duration-300 opacity-50"
                stroke-width="1" />
            <!-- Particles not easily done in SVG macro without JS, relying on CSS animate-pulse for now -->

            {% elif type == 'Leads' %}
            <circle cx="50" cy="50" r="10"
                class="stroke-gray-600 group-hover:stroke-white fill-none transition-colors duration-300"
                stroke-width="1" />
            <path d="M15,15 L40,40" class="stroke-gray-600 group-hover:stroke-white transition-colors duration-300"
                stroke-width="1" />
            <path d="M85,15 L60,40" class="stroke-gray-600 group-hover:stroke-white transition-colors duration-300"
                stroke-width="1" />
            <circle cx="50" cy="50" r="4"
                class="fill-transparent group-hover:fill-current transition-colors duration-300"
                style="color: {{ hex }}" />

            {% elif type == 'Authority' %}
            <path d="M50,15 L25,85 L75,85 Z"
                class="stroke-gray-600 group-hover:stroke-white fill-none transition-colors duration-300"
                stroke-width="1" />
            <path d="M50,15 L50,85" class="stroke-gray-600 group-hover:stroke-white transition-colors duration-300"
                stroke-width="1" />
            <circle cx="50" cy="15" r="2"
                class="fill-transparent group-hover:fill-current transition-all duration-300 group-hover:r-6"
                style="color: {{ hex }}" />

            {% elif type == 'Revenue' %}
            <rect x="20" y="60" width="15" height="30"
                class="stroke-gray-600 group-hover:stroke-white fill-none transition-colors duration-300"
                stroke-width="1" />
            <rect x="42" y="40" width="15" height="50"
                class="stroke-gray-600 group-hover:stroke-white fill-none transition-colors duration-300"
                stroke-width="1" />
            <rect x="64" y="20" width="15" height="70"
                class="stroke-gray-600 group-hover:stroke-white fill-none transition-colors duration-300"
                stroke-width="1" />

            {% elif type == 'Engagement' %}
            <circle cx="50" cy="50" r="10"
                class="stroke-gray-600 group-hover:stroke-white fill-none transition-colors duration-300"
                stroke-width="1" />
            <path d="M50,30 Q80,30 80,50 Q80,70 50,70"
                class="stroke-gray-600 group-hover:stroke-white fill-none transition-colors duration-300"
                stroke-width="1" />
            <path d="M50,20 Q90,20 90,50 Q90,80 50,80"
                class="stroke-gray-600 group-hover:stroke-white fill-none transition-colors duration-300"
                stroke-width="1" opacity="0.6" />

            {% else %}
            <!-- Default Orb -->
            <circle cx="50" cy="50" r="30"
                class="stroke-gray-600 group-hover:stroke-white fill-none transition-colors duration-300"
                stroke-width="1" />
            <circle cx="50" cy="50" r="10"
                class="fill-transparent group-hover:fill-current transition-colors duration-300"
                style="color: {{ hex }}" />
            {% endif %}

        </g>
    </svg>
</div>
{% endmacro %}